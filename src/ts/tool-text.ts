class TextTool extends Tool {
    conf = {
        space : 1,
    }

    letters = {
        " " : [
            [ 
                false,        
            ],
        ],

        "A" : [
            [
                false,       
                true, 
                true, 
                true, 
                true, 
            ],
    
            [
                true,
                false,      
                true,
                false,      
                false,      
            ],
    
            [
                true, 
                false,       
                true, 
                false,       
                false,       
            ],
    
            [
                false,       
                true, 
                true, 
                true, 
                true, 
            ],
        ],

        "B" : [
            [
                true, 
                true, 
                true, 
                true, 
                true, 
            ],
    
            [
                true,
                false,      
                true,
                false,      
                true,
            ],
    
            [
                true,
                false,      
                true,
                false,      
                true,
            ],
    
            [
                false,      
                true,
                false,      
                true,
                false,      
            ],
        ],

        "C" : [
            [
                false,      
                true, 
                true, 
                true, 
                false,      
            ],
    
            [
                true,
                false,      
                false,      
                false,      
                true,
            ],
    
            [
                true,
                false,      
                false,      
                false,      
                true,
            ],
    
            [
                true,
                false,      
                false,      
                false,      
                true,
            ],
        ],

        "D" : [
            [
                true, 
                true, 
                true, 
                true, 
                true, 
            ],
    
            [
                true,
                false,      
                false,      
                false,      
                true,
            ],
    
            [
                true,
                false,      
                false,      
                false,      
                true,
            ],
    
            [
                false,  
                true, 
                true, 
                true,     
                false,      
            ],
        ],

        "E" : [
            [
                true, 
                true, 
                true, 
                true, 
                true, 
            ],
    
            [
                true,
                false,      
                true, 
                false,      
                true,
            ],
        
            [
                true,
                false,      
                false,      
                false,      
                true,
            ],
        ],

        "F" : [
            [
                true, 
                true, 
                true, 
                true, 
                true, 
            ],
    
            [
                true,
                false,      
                true, 
                false,      
                false,      
            ],
    
            [
                true,
                false,      
                true, 
                false,      
                false,      
            ],

            [
                true,
                false,      
                false,      
                false,      
                false,      
            ],
        ],

        "G" : [
            [
                false,      
                true, 
                true, 
                true, 
                false,      
            ],
    
            [
                true,
                false,      
                false,      
                false,      
                true,
            ],
    
            [
                true,
                false,      
                true, 
                false,      
                true,
            ],

            [
                false,      
                false,      
                true,
                true,
                false,      
            ],
        ],

        "H" : [
            [
                true, 
                true, 
                true, 
                true, 
                true, 
            ],
    
            [
                false,      
                false,      
                true,
                false,      
                false,      
            ],
    
            [
                false,      
                false,      
                true,
                false,      
                false,      
            ],

            [
                true, 
                true, 
                true, 
                true, 
                true, 
            ],
        ],

        "I" : [
            [
                true, 
                false,      
                false,      
                false,      
                true, 
            ],
    
            [
                true, 
                true, 
                true, 
                true, 
                true, 
            ],
    
            [
                true, 
                false,      
                false,      
                false,      
                true, 
            ],
        ],

        "J" : [
            [ 
                false,       
                false,      
                false,     
                true,  
                false,      
            ],

            [ 
                false,       
                false,      
                false,     
                false,      
                true,  
            ],

            [ 
                true,  
                false,      
                false,     
                false,      
                true,  
            ],

            [
                true, 
                true, 
                true, 
                true, 
                false,     
            ],    
        ],

        "K" : [
            [ 
                true, 
                true, 
                true, 
                true, 
                true, 
            ],

            [ 
                false,       
                false,  
                true,      
                false,     
                false,      
            ],

            [ 
                false,       
                true,      
                false,    
                true,       
                false,      
            ],

            [
                true,      
                false,       
                false,    
                false,      
                true,       
            ],    
        ],

        "L" : [
            [ 
                true, 
                true, 
                true, 
                true, 
                true, 
            ],

            [ 
                false,       
                false,  
                false,     
                false,     
                true,      
            ],

            [ 
                false,       
                false,  
                false,     
                false,     
                true,      
            ],
        ],

        "M" : [
            [ 
                true, 
                true, 
                true, 
                true, 
                true, 
            ],

            [ 
                false,   
                true,          
                false,  
                false,     
                false,      
            ],

            [ 
                false,   
                false,  
                true,          
                false,     
                false,      
            ],

            [ 
                false,   
                true,          
                false,  
                false,     
                false,      
            ],

            [ 
                true, 
                true, 
                true, 
                true, 
                true, 
            ],
        ],

        "N" : [
            [ 
                true, 
                true, 
                true, 
                true, 
                true, 
            ],

            [ 
                false,   
                true,          
                false,  
                false,     
                false,      
            ],

            [ 
                false,   
                false,  
                true,          
                false,     
                false,      
            ],

            [ 
                false,   
                false,  
                false, 
                true,              
                false,      
            ],

            [ 
                true, 
                true, 
                true, 
                true, 
                true, 
            ],
        ],

        "O" : [
            [ 
                false,   
                true, 
                true, 
                true, 
                false,   
            ],

            [ 
                true,      
                false,       
                false,  
                false,     
                true,          
            ],

            [ 
                true,      
                false,       
                false,  
                false,     
                true,          
            ],

            [ 
                false,   
                true, 
                true, 
                true, 
                false,   
            ],
        ],

        "P" : [
            [ 
                false,   
                true, 
                true, 
                true, 
                true, 
            ],

            [ 
                true,          
                false,   
                true,          
                false,     
                false,      
            ],

            [ 
                true,          
                false,   
                true,          
                false,     
                false,      
            ],

            [
                false,    
                true,          
                false,   
                false,     
                false,      
            ],
        ],

        "Q" : [
            [ 
                false,   
                true, 
                true, 
                true, 
                false,   
            ],

            [ 
                true,      
                false,       
                false,  
                false,     
                true,          
            ],

            [ 
                true,      
                false,       
                false,  
                false,     
                true,          
            ],

            [ 
                false,   
                true, 
                true, 
                true, 
                true, 
            ],

            [ 
                false,       
                false,       
                false,  
                false,     
                true,          
            ],
        ],

        "R" : [
            [ 
                false,   
                true, 
                true, 
                true, 
                true, 
            ],

            [ 
                true,          
                false,   
                true,          
                false,     
                false,      
            ],

            [ 
                true,          
                false,   
                true,          
                true,          
                false,      
            ],

            [
                false,    
                true,          
                false,   
                false,     
                true,          
            ],
        ],

        "S" : [
            [ 
                false,   
                true, 
                false,   
                false,   
                true, 
            ],

            [ 
                true,          
                false,   
                true,          
                false,     
                true,          
            ],

            [ 
                true,          
                false,   
                true,          
                false,     
                true,          
            ],

            [
                true,          
                false,    
                false,   
                true,    
                false,         
            ],
        ],

        "T" : [
            [ 
                true, 
                false,   
                false,   
                false,   
                false,   
            ],

            [ 
                true, 
                false,   
                false,   
                false,   
                false,   
            ],

            [ 
                true,          
                true,          
                true,          
                true,          
                true,          
            ],

            [
                true, 
                false,   
                false,   
                false,   
                false,   
            ],

            [
                true, 
                false,   
                false,   
                false,   
                false,   
            ],
        ],

        "U" : [
            [ 
                true,          
                true,          
                true,          
                true,          
                false,   
            ],

            [ 
                false,   
                false,   
                false,   
                false,   
                true, 
            ],

            [ 
                false,   
                false,   
                false,   
                false,   
                true, 
            ],

            [
                true,          
                true,          
                true,          
                true,          
                false,   
            ],
        ],

        "V" : [
            [ 
                true,          
                true,          
                false,   
                false,   
                false,   
            ],

            [ 
                false,   
                false,   
                true,          
                true,          
                false,   
            ],

            [ 
                false,   
                false,   
                false,   
                false,   
                true, 
            ],

            [
                false,   
                false,   
                true,          
                true,          
                false,   
            ],

            [ 
                true,          
                true,          
                false,   
                false,   
                false,   
            ],
        ],

        "W" : [
            [ 
                true,          
                true,          
                true,          
                true,          
                false,   
            ],

            [ 
                false,   
                false,   
                false,   
                false,   
                true, 
            ],

            [
                false,   
                false,   
                true,          
                true,          
                false,   
            ],

            [ 
                false,   
                false,   
                false,   
                false,   
                true, 
            ],

            [ 
                true,          
                true,          
                true,          
                true,          
                false,   
            ],
        ],

        "X" : [
            [ 
                true,          
                true,     
                false,        
                true,          
                true,          
            ],

            [ 
                false,   
                false,  
                true,  
                false,   
                false,   
            ],

            [
                true,          
                true,     
                false,        
                true,          
                true,          
            ],
        ],

        "Y" : [
            [ 
                true,          
                false,        
                false,        
                false,        
                false,        
            ],

            [ 
                false,   
                true,  
                false,  
                false,   
                false,   
            ],

            [
                false,    
                false,    
                true,         
                true,          
                true,          
            ],

            [ 
                false,   
                true,  
                false,  
                false,   
                false,   
            ],

            [ 
                true,          
                false,        
                false,        
                false,        
                false,        
            ],
        ],

        "Z" : [
            [ 
                true,          
                false,        
                false,        
                true,          
                true,          
            ],

            [ 
                true,          
                false,        
                true,          
                false,        
                true,          
            ],

            [
                true,          
                false,        
                true,          
                false,        
                true,          
            ],

            [ 
                true,          
                true,     
                false,             
                false,        
                true,          
            ],
        ],
    }

    onMouse(event : CustomMouseEvent) {
        if (CustomMouseEvent.mouseLeftDown && CustomMouseEvent.mouseLeftChanged) { 
            let inputText = prompt(
                "Enter the text you wish to print on screen", 
                "the quick brown fox jumps over the lazy dog"
            );

            if (inputText != null) {
                let textCursorPosX = Util.screenToCordX(CustomMouseEvent.mouseX);
                let textCursorPosY = Util.screenToCordY(CustomMouseEvent.mouseY);

                for (let i = 0; i < inputText.length; i++) {
                    try {
                        let letter = this.letters[inputText[i].toUpperCase()];
                        //this.blit(letter, DrawView.getLayer(0).drawing, 0, 0, letter.length, letter[0].length, Util.screenToCordX(CustomMouseEvent.mouseX) + textCursorPos, Util.screenToCordY(CustomMouseEvent.mouseY));
                        
                        for (let x = 0; x < letter.length; x++) {
                            for (let y = 0; y < letter[x].length; y++) {
                                if (letter[x][y]) {
                                    DrawView.getLayer(0).placePixel(
                                        textCursorPosX + x,
                                        textCursorPosY + y,
                                    );
                                }
                            }                                
                        }

                        
                        textCursorPosX += (letter.length + this.conf.space);    
                    } catch (error) {
                        console.log('[TextTool] Could not print "'+inputText[i]+'"');   
                    }
                }
            }          
                        
            this.onEnd()
        }
    }
}